{% extends "main/base.html" %}
{% load static %}

{% block title %}Language & Appearance{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'style/setting-sidebar.css' %}">
{% endblock %}

{% block content %}
<div class="settings-container">

    <!-- SIDEBAR -->
    <aside class="settings-nav">
        <ul class="nav-links">

            <li><a href="{% url 'settings_account' %}">Account</a></li>
            <li><a href="{% url 'settings_privacy' %}">Privacy</a></li>

            <li>
                <a href="{% url 'settings_language' %}" class="sidebar-highlight-bg">
                    Language &amp; Appearance
                </a>
            </li>

            <li><a href="{% url 'settings_security' %}">Security</a></li>
            <li><a href="{% url 'settings_data_control' %}">Data &amp; Account Control</a></li>
            <li><a href="{% url 'settings_help' %}">Help &amp; Support</a></li>

            <li>
                <a href="{% url 'logout' %}" class="logout-link">
                    Log Out
                </a>
            </li>

        </ul>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="settings-content">
        <h2 class="page-title">Language &amp; Appearance</h2>

        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}" style="padding: 12px; margin-bottom: 20px; border-radius: 8px; background: {% if message.tags == 'success' %}#d4edda{% elif message.tags == 'error' %}#f8d7da{% else %}#d1ecf1{% endif %}; border: 1px solid {% if message.tags == 'success' %}#c3e6cb{% elif message.tags == 'error' %}#f5c6cb{% else %}#bee5eb{% endif %}; color: {% if message.tags == 'success' %}#155724{% elif message.tags == 'error' %}#721c24{% else %}#0c5460{% endif %};">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <form method="post" class="settings-form">
            {% csrf_token %}

            <!-- ===============================
                 LANGUAGE
            =============================== -->
            <h3 class="section-title">Language</h3>

            <label>Display language</label>
            <select class="styled-select" name="language">
                <option value="en" {% if profile.language == 'en' %}selected{% endif %}>English</option>
                <option value="es" {% if profile.language == 'es' %}selected{% endif %}>Spanish</option>
                <option value="fr" {% if profile.language == 'fr' %}selected{% endif %}>French</option>
                <option value="de" {% if profile.language == 'de' %}selected{% endif %}>German</option>
                <option value="fil" {% if profile.language == 'fil' %}selected{% endif %}>Filipino</option>
            </select>

            <!-- ===============================
                 TIME ZONE
            =============================== -->
            <h3 class="section-title">Time Zone</h3>

            <label>Select your time zone</label>
            <select class="styled-select" name="timezone">
                <option value="UTC" {% if profile.timezone == 'UTC' %}selected{% endif %}>UTC (GMT)</option>
                <option value="UTC-10" {% if profile.timezone == 'UTC-10' %}selected{% endif %}>UTC-10 — Hawaii (HST)</option>
                <option value="UTC-8" {% if profile.timezone == 'UTC-8' %}selected{% endif %}>UTC-8 — Pacific (PST)</option>
                <option value="UTC-5" {% if profile.timezone == 'UTC-5' %}selected{% endif %}>UTC-5 — Eastern (EST)</option>
                <option value="UTC+1" {% if profile.timezone == 'UTC+1' %}selected{% endif %}>UTC+1 — Central Europe (CET)</option>
                <option value="UTC+5:30" {% if profile.timezone == 'UTC+5:30' %}selected{% endif %}>UTC+5:30 — India (IST)</option>
                <option value="UTC+8" {% if profile.timezone == 'UTC+8' %}selected{% endif %}>UTC+8 — Philippines / China</option>
                <option value="UTC+9" {% if profile.timezone == 'UTC+9' %}selected{% endif %}>UTC+9 — Japan (JST)</option>
                <option value="UTC+10" {% if profile.timezone == 'UTC+10' %}selected{% endif %}>UTC+10 — Australia (AEST)</option>
                <option value="UTC+12" {% if profile.timezone == 'UTC+12' %}selected{% endif %}>UTC+12 — New Zealand</option>
            </select>

            <!-- ===============================
                 APPEARANCE
            =============================== -->
            <h3 class="section-title">Appearance</h3>

            <div class="toggle-row">
                <span>Dark mode</span>
                <label class="switch">
                    <input type="checkbox" name="dark_mode" {% if profile.dark_mode %}checked{% endif %}>
                    <span class="slider"></span>
                </label>
            </div>

            <!-- ===============================
                 ACCESSIBILITY
            =============================== -->
            <h3 class="section-title">Accessibility</h3>

            <div class="toggle-row">
                <span>Large font</span>
                <label class="switch">
                    <input type="checkbox" name="large_font">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="toggle-row">
                <span>High contrast</span>
                <label class="switch">
                    <input type="checkbox" name="high_contrast">
                    <span class="slider"></span>
                </label>
            </div>

            <button type="submit" class="save-changes-btn">
                Save Preferences
            </button>
        </form>
    </main>

</div>
{% endblock %}
