{% extends "main/base.html" %}
{% load static %}

{% block extra_head %}
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Messages - Job System</title>
    {% endblock extra_head %}

{% block content %}

<div class="max-w-7xl mx-auto p-6 h-[85vh]">
    <div class="flex h-full bg-white rounded-2xl shadow-xl overflow-hidden">

        <aside class="w-full md:w-2/5 lg:w-1/3 border-r border-gray-200 flex flex-col">
            <div class="p-4 border-b border-gray-100">
                <h2 class="text-xl font-bold">Inbox (12)</h2>
            </div>
            
            <div class="p-4">
                <div class="relative">
                    <input
                        type="text"
                        placeholder="Search users or keywords"
                        class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-blue-400 focus:border-blue-400 outline-none text-sm"
                    />
                    <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">üîç</span>
                </div>
            </div>

            <div class="flex-grow overflow-y-auto">
                
                <div class="flex items-center p-4 bg-blue-50 border-l-4 border-blue-500 cursor-pointer">
                    <img src="{% static 'img/avatar_placeholder.png' %}" alt="Avatar" class="w-10 h-10 rounded-full mr-3 object-cover">
                    <div class="flex-grow overflow-hidden">
                        <div class="flex justify-between items-center">
                            <strong class="text-sm font-semibold truncate">Acme Corp. (Recruiter)</strong>
                            <span class="text-xs text-blue-500 font-medium">10:30 AM</span>
                        </div>
                        <p class="text-xs text-gray-600 truncate">I'd like to post a new job for a Senior...</p>
                    </div>
                </div>

                <div class="flex items-center p-4 hover:bg-gray-50 border-l-4 border-transparent cursor-pointer">
                    <img src="{% static 'img/avatar_placeholder.png' %}" alt="Avatar" class="w-10 h-10 rounded-full mr-3 object-cover">
                    <div class="flex-grow overflow-hidden">
                        <div class="flex justify-between items-center">
                            <strong class="text-sm font-semibold truncate">Jane Doe (Applicant)</strong>
                            <span class="text-xs text-gray-400 flex items-center gap-1">
                                08:45 AM <span class="w-2 h-2 bg-red-500 rounded-full"></span>
                            </span>
                        </div>
                        <p class="text-xs font-medium text-black truncate">Can you check the status of my application?</p>
                    </div>
                </div>
                
                <div class="flex items-center p-4 hover:bg-gray-50 border-l-4 border-transparent cursor-pointer">
                    <img src="{% static 'img/avatar_placeholder.png' %}" alt="Avatar" class="w-10 h-10 rounded-full mr-3 object-cover">
                    <div class="flex-grow overflow-hidden">
                        <div class="flex justify-between items-center">
                            <strong class="text-sm font-semibold truncate">Tech Innovators</strong>
                            <span class="text-xs text-gray-400">Yesterday</span>
                        </div>
                        <p class="text-xs text-gray-600 truncate">The billing query has been resolved.</p>
                    </div>
                </div>
            </div>
        </aside>

        <section class="flex-grow flex flex-col hidden md:flex">

            <div class="p-4 border-b border-gray-100 flex items-center justify-between">
                <div class="flex items-center">
                    <img src="{% static 'img/avatar_placeholder.png' %}" alt="Active User" class="w-8 h-8 rounded-full mr-3">
                    <div>
                        <h3 class="font-bold text-base">Acme Corp.</h3>
                        <p class="text-xs text-gray-500">Recruiter, Active Job Postings: 5</p>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button class="p-2 text-gray-600 hover:text-gray-800 rounded-full hover:bg-gray-100">‚öôÔ∏è</button>
                    <button class="p-2 text-red-500 hover:text-red-700 rounded-full hover:bg-gray-100">‚ùå</button>
                </div>
            </div>

            <div class="flex-grow p-5 space-y-4 overflow-y-auto bg-gray-50">
                
                <p class="text-xs text-gray-400 text-center my-4">October 25, 2025</p>

                <div class="flex justify-start">
                    <div class="bg-gray-200 p-3 rounded-xl rounded-tl-sm max-w-md shadow-sm">
                        <p class="text-sm">Hi, I have a few questions about the salary range for the Senior Data Analyst role. Could you clarify if the rate is negotiable?</p>
                        <span class="text-xs text-gray-500 block text-right mt-1">09:55 AM</span>
                    </div>
                </div>

                <div class="flex justify-end">
                    <div class="bg-blue-500 text-white p-3 rounded-xl rounded-tr-sm max-w-md shadow-md">
                        <p class="text-sm">Hello Acme Corp., I see. The posted rate is firm, but if you'd like to discuss a lower hourly rate for a longer contract, we can submit that request.</p>
                        <span class="text-xs text-blue-200 block text-right mt-1">10:00 AM</span>
                    </div>
                </div>

            </div>

            <div class="p-4 border-t border-gray-200 bg-white">
                <div class="flex items-end gap-3">
                    <button class="text-gray-500 p-2 hover:text-blue-500">üìé</button>
                    <button class="text-gray-500 p-2 hover:text-blue-500">üìã</button>
                    
                    <textarea 
                        placeholder="Send a message to Acme Corp..."
                        rows="1" 
                        class="flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-400 focus:border-blue-400 resize-none outline-none"
                        style="min-height: 40px;"
                    ></textarea>

                    <button class="bg-black text-white px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition duration-150">
                        Send
                    </button>
                </div>
            </div>

        </section>
    </div>
</div>

{% endblock content %}