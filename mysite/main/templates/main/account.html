{% extends "main/base.html" %}
{% load static %}

{% block title %}Account Settings{% endblock %}

{% block extra_head %}

<link rel="stylesheet" href="{% static 'style/setting-sidebar.css' %}">
{% endblock %}

{% block content %}

<div class="settings-container">

<!-- SIDEBAR -->
<aside class="settings-nav">
    <ul class="nav-links">

        <li>
            <a href="{% url 'settings_account' %}" class="sidebar-highlight-bg">
                Account
            </a>
        </li>

        <li>
            <a href="{% url 'settings_privacy' %}">
                Privacy
            </a>
        </li>

        <li>
            <a href="{% url 'settings_language' %}">
                Language &amp; Appearance
            </a>
        </li>

        <li>
            <a href="{% url 'settings_security' %}">
                Security
            </a>
        </li>

        <li>
            <a href="{% url 'settings_data_control' %}">
                Data &amp; Account Control
            </a>
        </li>

        <li>
            <a href="{% url 'settings_help' %}">
                Help &amp; Support
            </a>
        </li>

        <li>
            <a href="{% url 'logout' %}" class="logout-link">
                Log Out
            </a>
        </li>

    </ul>
</aside>

<main class="settings-content">
    <h2 class="page-title">Account Settings</h2>

    <form method="post" enctype="multipart/form-data" class="settings-form">
        {% csrf_token %}

        <!-- ===============================
             BASIC ACCOUNT
        =============================== -->
        <h3 class="section-title">Basic Account Control</h3>

        <label>Email</label>
        {{ user_form.email }}

        <label>Username</label>
        <input type="text"
               name="username"
               value="{{ request.user.username }}"
               class="text-input">

        <label>Phone number</label>
        <input type="text"
               name="phone_number"
               value="{{ request.user.profile.phone_number }}"
               class="text-input">

        <!-- ===============================
             CONNECTED ACCOUNTS
        =============================== -->
        <h3 class="section-title">Connected Accounts</h3>

        <div class="connected-accounts">
            <div class="connected-app google">
                <i class="fa-brands fa-google"></i>
                <span>Google</span>
                <button type="button" class="connect-btn">Connected</button>
            </div>

            <div class="connected-app facebook">
                <i class="fa-brands fa-facebook-f"></i>
                <span>Facebook</span>
                <button type="button" class="connect-btn">Connect</button>
            </div>
        </div>


        <!-- ===============================
             ACCOUNT STATUS
        =============================== -->
        <h3 class="section-title">Account Status</h3>

        <div class="toggle-row">
            <span>Status</span>
            <label class="toggle-switch">
                <input type="checkbox" name="account_active" checked>
                <span class="slider"></span>
            </label>
            <span class="toggle-label">Active</span>
        </div>

        <p class="hint-text">
            Turning this off will deactivate your account.
        </p>

        <!-- ===============================
             APPLICATION PREFERENCES
        =============================== -->
        <h3 class="section-title">Application Preferences</h3>

        <label>Default Resume</label>

        <input type="file"
              name="default_resume"
              id="resumeInput"
              accept=".pdf,.jpg,.jpeg,.png"
              class="file-input">

        <div id="resumePreview" class="file-preview hidden"></div>

        <label>Default Cover Letter</label>

        <input type="file"
              name="default_cover_letter"
              id="coverInput"
              accept=".pdf,.jpg,.jpeg,.png"
              class="file-input">

        <div id="coverPreview" class="file-preview hidden"></div>

        <div class="toggle-row">
            <span>Auto-fill applications</span>
            <label class="toggle-switch">
                <input type="checkbox" name="auto_fill_applications">
                <span class="slider"></span>
            </label>
        </div>

        <div class="toggle-row">
            <span>Track application history</span>
            <label class="toggle-switch">
                <input type="checkbox" name="track_application_history">
                <span class="slider"></span>
            </label>
        </div>

        <div class="toggle-row">
            <span>Allow employers to download resume</span>
            <label class="toggle-switch">
                <input type="checkbox" name="allow_resume_download">
                <span class="slider"></span>
            </label>
        </div>

        <!-- ===============================
             SAVE
        =============================== -->
        <button type="submit" class="save-changes-btn">
            Save Changes
        </button>
    </form>
</main>


{% endblock %}
